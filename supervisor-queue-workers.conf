[program:queue-high-priority]
process_name=%(program_name)s_%(process_num)02d
command=php /path/to/your/app/artisan queue:work --queue=high-priority --sleep=3 --tries=3 --max-jobs=1000 --timeout=90
directory=/path/to/your/app
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/supervisor/queue-high-priority.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=3
numprocs=2
user=www-data
environment=APP_ENV=production

[program:queue-emails]
process_name=%(program_name)s_%(process_num)02d
command=php /path/to/your/app/artisan queue:work --queue=emails --sleep=3 --tries=3 --max-jobs=1000 --timeout=120
directory=/path/to/your/app
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/supervisor/queue-emails.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=3
numprocs=5
user=www-data
environment=APP_ENV=production

[program:queue-processing]
process_name=%(program_name)s_%(process_num)02d
command=php /path/to/your/app/artisan queue:work --queue=processing --sleep=3 --tries=3 --max-jobs=500 --timeout=1800 --memory=512
directory=/path/to/your/app
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/supervisor/queue-processing.log
stdout_logfile_maxbytes=100MB
stdout_logfile_backups=5
numprocs=3
user=www-data
environment=APP_ENV=production

[program:queue-pdf-processing]
process_name=%(program_name)s_%(process_num)02d
command=php /path/to/your/app/artisan queue:work --queue=pdf-processing --sleep=3 --tries=3 --max-jobs=500 --timeout=600 --memory=256
directory=/path/to/your/app
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/supervisor/queue-pdf-processing.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=3
numprocs=2
user=www-data
environment=APP_ENV=production

[program:queue-default]
process_name=%(program_name)s_%(process_num)02d
command=php /path/to/your/app/artisan queue:work --queue=default --sleep=3 --tries=3 --max-jobs=1000 --timeout=90
directory=/path/to/your/app
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/supervisor/queue-default.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=3
numprocs=2
user=www-data
environment=APP_ENV=production

[group:laravel-queues]
programs=queue-high-priority,queue-emails,queue-processing,queue-pdf-processing,queue-default
priority=999